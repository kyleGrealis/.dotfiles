# Tailscale Auto-Switch Setup for Arch Linux (NetworkManager)

## Prerequisites
sudo pacman -S iw tailscale networkmanager

## Installation Steps

### 1. Install user scripts (via stow or manually)
# Scripts go in ~/.local/bin/:
- tailscale-protect
- tailscale-home  
- taillog

### 2. Create NetworkManager dispatcher script
sudo micro /etc/NetworkManager/dispatcher.d/99-tailscale-autoswitch

[contents of dispatcher script]

sudo chmod +x /etc/NetworkManager/dispatcher.d/99-tailscale-autoswitch

### 3. Create sudoers entry
sudo micro /etc/sudoers.d/tailscale-autoswitch

[sudoers content]

### 4. Create log file
sudo touch /var/log/tailscale-autoswitch.log
sudo chown $USER:$USER /var/log/tailscale-autoswitch.log
sudo chmod 644 /var/log/tailscale-autoswitch.log

### 5. Test
taillog
# Switch networks - should auto-trigger!

## Configuration
Edit KNOWN_NETS in the dispatcher script at:
/etc/NetworkManager/dispatcher.d/99-tailscale-autoswitch
